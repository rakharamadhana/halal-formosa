System.register(["./index-legacy-DryGZUwD.js","./html5-qrcode-legacy-D5DtuMLO.js"],function(e,t){"use strict";var a,n,l,i,o,r,d,u,s,c,v,m,h,g,p,w,f,y,x,_,k,b,z,j,L,N,T,A,D,S;return{setters:[e=>{a=e.d,n=e.r,l=e.a9,i=e.a2,o=e.a3,r=e.a4,d=e.a5,u=e.o,s=e.bm,c=e.s,v=e.ac,m=e.c,h=e.w,g=e.u,p=e.b,w=e.e,f=e.O,y=e.j,x=e.k,_=e.bb,k=e.ad,b=e.S,z=e.i,j=e.L,L=e.t,N=e.bi,T=e.bj,A=e.l,D=e.aJ,S=e.y},null],execute:function(){var t=document.createElement("style");t.textContent=".article-content{line-height:1.7;font-size:1rem;color:var(--ion-color-dark)}.article-content h2{margin-top:1.5rem;font-size:1.3rem;font-weight:700}.article-content p{margin-bottom:1rem}.news-header-img{max-width:100%}\n",document.head.appendChild(t);const U={key:0,id:"ad-space-news-detail",style:{height:"65px"}},q={key:0,class:"ion-text-center"},C={key:1},H=["src"],M={class:"ion-padding",style:{"padding-top":"0"}},B={style:{margin:"4px 0 8px 0","font-size":"13px"}},E=["innerHTML"],J={class:"ion-text-end ion-margin-top",style:{color:"var(--ion-color-shade)","font-size":"0.8rem"}},O={key:2,class:"ion-text-center ion-margin-top"};e("default",a({__name:"NewsDetailView",setup(e){const t=n(null),a=s(),P=n(null),V=n(!0),$=n(l.isNativePlatform());return i.extend(o),i.extend(r),i.extend(d),u(async()=>{const e=a.params.id,{data:n}=await c.auth.getUser();t.value=n.user;const{data:l,error:i}=await c.from("news").select("*").eq("id",e).single();!i&&l&&(P.value=l),V.value=!1,await v(),setTimeout(()=>{var e,t;return null===(e=(t=window).scheduleBannerUpdate)||void 0===e?void 0:e.call(t)},50)}),(e,a)=>(p(),m(g(S),null,{default:h(()=>[w(g(f),null,{default:h(()=>[$.value&&!g(_)?(p(),y("div",U)):x("",!0),w(k,{title:"","show-back":"","back-route":"/news",icon:"none"})]),_:1}),w(g(b),null,{default:h(()=>{var e,a;return[V.value?(p(),y("div",q)):P.value?(p(),y("div",C,[P.value.header_image?(p(),y("img",{key:0,src:P.value.header_image,class:j(["news-header-img",{"has-ad":$.value&&!g(_)}]),alt:"header-image"},null,10,H)):x("",!0),z("div",M,[z("h1",null,L(P.value.title),1),z("p",B," Added by "+L(P.value.author_name)+" - "+L((a=P.value.created_at,a?i.utc(a).tz("Asia/Taipei").fromNow():"")),1),z("div",{class:"article-content",innerHTML:P.value.content},null,8,E),z("p",J," Added by "+L(P.value.author_name||"Unknown")+" • "+L(new Date(P.value.created_at).toLocaleDateString()),1)])])):(p(),y("p",O," ❌ News not found. ")),P.value&&(null===(e=t.value)||void 0===e?void 0:e.id)===P.value.author_id?(p(),m(g(N),{key:3,vertical:"bottom",horizontal:"end",slot:"fixed"},{default:h(()=>[w(g(T),{color:"carrot","router-link":`/news/edit/${P.value.id}`},{default:h(()=>[w(g(A),{icon:g(D)},null,8,["icon"])]),_:1},8,["router-link"])]),_:1})):x("",!0)]}),_:1})]),_:1}))}}))}}});
