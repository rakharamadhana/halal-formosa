System.register(["./index-legacy-DryGZUwD.js","./android-chrome-512x512-legacy-BSMra7cx.js","./html5-qrcode-legacy-D5DtuMLO.js"],function(e,t){"use strict";var a,o,l,n,i,r,p,s,c,d,u,g,m,h,f,b,v,x,k,y,w,_,I,S,$,z,T,j,C;return{setters:[e=>{a=e.d,o=e.r,l=e.A,n=e.c,i=e.w,r=e.u,p=e.l,s=e.aq,c=e.ar,d=e.S,u=e.ct,g=e.ao,m=e.F,h=e.by,f=e.y,b=e.B,v=e.bm,x=e.b,k=e.e,y=e.i,w=e.p,_=e.cp,I=e.cu,S=e.t,$=e.aS,z=e.k,T=e.s,j=e.a9},e=>{C=e._},null],execute:function(){var t=document.createElement("style");t.textContent='.auth-page{--background: radial-gradient( 120% 120% at 50% -10%, #2a2a2a 0%, #1e1e1e 55%, #181818 100% )}html:not(.ion-palette-dark) .auth-page{--background: linear-gradient( 180deg, #ffffff 0%, #f3f4f6 100% )}html:not(.ion-palette-dark) .auth-title{color:#111827}html:not(.ion-palette-dark) .auth-subtitle{color:#4b5563}html:not(.ion-palette-dark) ion-input{background:#fff;--border-color: #d1d5db;--color: #111827;--placeholder-color: #6b7280}html:not(.ion-palette-dark) ion-input::part(label){color:#6b7280}html:not(.ion-palette-dark) ion-input.has-focus::part(label),html:not(.ion-palette-dark) ion-input.has-value::part(label){color:var(--ion-color-carrot)}html:not(.ion-palette-dark) .divider:before,html:not(.ion-palette-dark) .divider:after{background:#e5e7eb}html:not(.ion-palette-dark) .back-divider{color:#6b7280}html:not(.ion-palette-dark) .lang-select{--border-color: #d1d5db;--color: #374151}.auth-container{min-height:100%;max-width:420px;margin:auto;padding:calc(36px + var(--safe-area-inset-top, env(safe-area-inset-top))) 22px 32px;display:flex;flex-direction:column;justify-content:center}.logo-wrapper{display:flex;justify-content:center;margin-bottom:18px}.app-logo{width:150px;height:150px;border-radius:28px}.auth-title{margin-top:6px;margin-bottom:6px;font-size:28px;font-weight:700;letter-spacing:.2px}.auth-subtitle{font-size:14px;line-height:1.5;margin-bottom:40px}.input-card{margin-bottom:0}.input-card+.input-card{margin-top:16px}ion-input{--min-height: 56px;--padding-start: 16px;--padding-end: 16px;--border-radius: 14px;--border-color: #3a3a3a;--highlight-color-focused: var(--ion-color-carrot);--color: #ffffff;--placeholder-color: #9a9a9a;background:rgba(255,255,255,.016)}ion-input::part(label){font-size:14px;color:#b5b5b5;transition:color .15s ease}ion-input.has-focus::part(label),ion-input.has-value::part(label){color:var(--ion-color-carrot)}.error-text{display:block;margin-top:12px;margin-bottom:6px;font-size:13px}.primary-btn{margin-top:22px;font-weight:600;letter-spacing:.4px}.primary-btn::part(native):active{transform:scale(.98);box-shadow:0 6px 14px rgba(0,0,0,.45)}.divider{display:flex;align-items:center;margin:28px 0 24px;font-size:11px;letter-spacing:1px;color:#8f8f8f}.divider:before,.divider:after{content:"";flex:1;height:1px;background:#2f2f2f}.divider span{padding:0 12px;opacity:.7}@media (max-height: 620px){.logo-wrapper{margin-bottom:10px}.app-logo{width:96px;height:96px;border-radius:20px}.auth-subtitle{margin-bottom:28px}}.back-divider{display:flex;align-items:center;justify-content:center;margin-top:22px;font-size:12px;letter-spacing:1px;color:#8f8f8f;cursor:pointer}.back-divider span{opacity:.7;transition:opacity .15s ease}.back-divider:hover span{opacity:1}.top-bar{position:absolute;top:calc(12px + var(--safe-area-inset-top, env(safe-area-inset-top)));left:0;right:0;display:flex;align-items:center;justify-content:space-between;padding:0 18px;pointer-events:auto}.lang-wrapper{display:flex;align-items:center}.lang-select{min-width:110px}.theme-btn{--padding-start: 6px;--padding-end: 6px;--color: #b8b8b8}.theme-btn{--padding-start: 8px;--padding-end: 8px;--color: #b8b8b8;font-size:18px;transition:color .2s ease,transform .15s ease}.theme-btn:hover{--color: var(--ion-color-carrot)}.theme-btn:active{transform:scale(.9)}.theme-btn ion-icon{transition:transform .25s ease}html.ion-palette-dark .theme-btn ion-icon{transform:rotate(180deg)}\n',document.head.appendChild(t);const V={class:"auth-container"},q={class:"top-bar"},A={class:"lang-wrapper"},P={class:"auth-title"},W={class:"auth-subtitle"},B={class:"input-card"},E={class:"input-card"},L={class:"divider"},G=a({components:{IonPage:f,IonInput:h,IonButton:m,IonText:g,IonInputPasswordToggle:u,IonContent:d,IonSelectOption:c,IonSelect:s,IonIcon:p}});e("default",a({...G,__name:"LoginView",setup(e){const t=o(function getInitialTheme(){const e=localStorage.getItem("theme");return"dark"===e||"light"===e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}());document.documentElement.classList.toggle("ion-palette-dark","dark"===t.value);const{locale:a}=l(),G=o(""),H=o(""),M=o(""),O=o(!1),U=b(),F=v();async function login(){O.value=!0,M.value="";const{error:e}=await T.auth.signInWithPassword({email:G.value,password:H.value});O.value=!1,e&&(M.value=e.message)}function toggleTheme(){!function applyTheme(e){document.documentElement.classList.toggle("ion-palette-dark","dark"===e),localStorage.setItem("theme",e),t.value=e}("dark"===t.value?"light":"dark")}async function loginWithGoogle(){var e;M.value="";const t=F.query.redirect,a="string"==typeof t?t:Array.isArray(t)&&t.length>0&&null!==(e=t[0])&&void 0!==e?e:"/",o=j.isNativePlatform()?"myapp://callback":window.location.origin+a,{error:l}=await T.auth.signInWithOAuth({provider:"google",options:{redirectTo:o,queryParams:{next:a}}});l&&(M.value=l.message)}function goHome(){U.push("/")}return(e,o)=>(x(),n(r(f),null,{default:i(()=>[k(r(d),{fullscreen:"",class:"auth-page"},{default:i(()=>[y("div",V,[y("div",q,[y("div",A,[k(r(s),{interface:"popover",value:r(a),onIonChange:o[0]||(o[0]=e=>function setLanguage(e){a.value=e,localStorage.setItem("lang",e)}(e.detail.value)),class:"lang-select"},{default:i(()=>[k(r(c),{value:"en"},{default:i(()=>o[3]||(o[3]=[w("English",-1)])),_:1,__:[3]}),k(r(c),{value:"id"},{default:i(()=>o[4]||(o[4]=[w("Bahasa Indonesia",-1)])),_:1,__:[4]}),k(r(c),{value:"ms"},{default:i(()=>o[5]||(o[5]=[w("Bahasa Melayu",-1)])),_:1,__:[5]}),k(r(c),{value:"zh"},{default:i(()=>o[6]||(o[6]=[w("繁體中文",-1)])),_:1,__:[6]})]),_:1},8,["value"])]),k(r(m),{fill:"clear",class:"theme-btn",style:{"border-radius":"50px"},onClick:toggleTheme},{default:i(()=>[k(r(p),{icon:"dark"===t.value?r(_):r(I),slot:"icon-only"},null,8,["icon"])]),_:1})]),o[7]||(o[7]=y("div",{class:"logo-wrapper"},[y("img",{src:C,alt:"App logo",class:"app-logo"})],-1)),y("h1",P,S(e.$t("auth.login")),1),y("p",W,S(e.$t("auth.loginSubtitle")),1),y("form",{onSubmit:$(login,["prevent"])},[y("div",B,[k(r(h),{fill:"outline",label:e.$t("auth.email"),"label-placement":"floating",type:"email",modelValue:G.value,"onUpdate:modelValue":o[1]||(o[1]=e=>G.value=e),required:""},null,8,["label","modelValue"])]),y("div",E,[k(r(h),{fill:"outline",label:e.$t("auth.password"),"label-placement":"floating",type:"password",modelValue:H.value,"onUpdate:modelValue":o[2]||(o[2]=e=>H.value=e),required:""},{default:i(()=>[k(r(u),{slot:"end"})]),_:1},8,["label","modelValue"])]),M.value?(x(),n(r(g),{key:0,color:"danger",class:"error-text"},{default:i(()=>[w(S(M.value),1)]),_:1})):z("",!0),k(r(m),{type:"submit",expand:"block",color:"carrot",class:"primary-btn",disabled:O.value},{default:i(()=>[w(S(O.value?e.$t("auth.loggingIn"):e.$t("auth.login")),1)]),_:1},8,["disabled"]),y("div",L,[y("span",null,S(e.$t("common.or")),1)]),k(r(m),{expand:"block",fill:"outline",color:"carrot",onClick:loginWithGoogle},{default:i(()=>[w(S(e.$t("auth.continueWithGoogle")),1)]),_:1}),y("div",{class:"back-divider",onClick:goHome},[y("span",null,S(e.$t("common.backToHome")),1)])],32)])]),_:1})]),_:1}))}}))}}});
