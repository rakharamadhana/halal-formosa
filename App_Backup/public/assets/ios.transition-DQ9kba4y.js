import{cK as t,cL as e}from"./index-D9IhqqAc.js";import"./html5-qrcode-D_4nuB1t.js";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const getClonedElement=t=>document.querySelector("".concat(t,".ion-cloned-element")),shadow=t=>t.shadowRoot||t,getLargeTitle=t=>{const e="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs"),o="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=e){const t=e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=t?t.querySelector(o):null}return t.querySelector(o)},getBackButton=(t,e)=>{const o="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs");let n=[];if(null!=o){const t=o.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=t&&(n=t.querySelectorAll("ion-buttons"))}else n=t.querySelectorAll("ion-buttons");for(const a of n){const t=a.closest("ion-header"),o=t&&!t.classList.contains("header-collapse-condense-inactive"),n=a.querySelector("ion-back-button"),r=a.classList.contains("buttons-collapse"),c="start"===a.slot||""===a.slot;if(null!==n&&c&&(r&&o&&e||!r))return n}return null},animateBackButton=(e,n,a,r,c,l,s,i,d)=>{var f,m;const y=n?"calc(100% - ".concat(c.right+4,"px)"):"".concat(c.left-4,"px"),p=n?"right":"left",u=n?"left":"right",b=n?"right":"left";let g=1,h=1,S="scale(".concat(h,")");const q="scale(1)";if(l&&s){const t=(null===(f=l.textContent)||void 0===f?void 0:f.trim())===(null===(m=i.textContent)||void 0===m?void 0:m.trim());g=d.width/s.width,h=(d.height-o)/s.height,S=t?"scale(".concat(g,", ").concat(h,")"):"scale(".concat(h,")")}const x=shadow(r).querySelector("ion-icon").getBoundingClientRect(),T="".concat(n?x.width/2-(x.right-c.right):c.left-x.width/2,"px"),X=n?"-".concat(window.innerWidth-c.right,"px"):"".concat(c.left,"px"),E="".concat(d.top,"px"),A="".concat(c.top,"px"),v=[{offset:0,transform:"translate3d(".concat(T,", ").concat(E,", 0)")},{offset:1,transform:"translate3d(".concat(X,", ").concat(A,", 0)")}],C=[{offset:0,transform:"translate3d(".concat(X,", ").concat(A,", 0)")},{offset:1,transform:"translate3d(".concat(T,", ").concat(E,", 0)")}],w=a?C:v,k=a?[{offset:0,opacity:1,transform:q},{offset:1,opacity:0,transform:S}]:[{offset:0,opacity:0,transform:S},{offset:1,opacity:1,transform:q}],B=a?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],P=t(),R=t(),L=t(),W=getClonedElement("ion-back-button"),N=shadow(W).querySelector(".button-text"),z=shadow(W).querySelector("ion-icon");W.text=r.text,W.mode=r.mode,W.icon=r.icon,W.color=r.color,W.disabled=r.disabled,W.style.setProperty("display","block"),W.style.setProperty("position","fixed"),R.addElement(z),P.addElement(N),L.addElement(W),L.beforeStyles({position:"absolute",top:"0px",[b]:"0px"}).beforeAddWrite(()=>{r.style.setProperty("display","none"),W.style.setProperty(p,y)}).afterAddWrite(()=>{r.style.setProperty("display",""),W.style.setProperty("display","none"),W.style.removeProperty(p)}).keyframes(w),P.beforeStyles({"transform-origin":"".concat(p," top")}).keyframes(k),R.beforeStyles({"transform-origin":"".concat(u," center")}).keyframes(B),e.addAnimation([P,R,L])},animateLargeTitle=(e,n,a,r,c,l,s,i,d)=>{var f,m;const y=n?"right":"left",p=n?"calc(100% - ".concat(c.right,"px)"):"".concat(c.left,"px"),u="".concat(c.top,"px");let b=n?"-".concat(window.innerWidth-s.right-8,"px"):"".concat(s.x+8,"px"),g=.5;const h="scale(1)";let S="scale(".concat(g,")");if(i&&d){b=n?"-".concat(window.innerWidth-d.right-8,"px"):"".concat(d.x-8,"px");const t=(null===(f=i.textContent)||void 0===f?void 0:f.trim())===(null===(m=r.textContent)||void 0===m?void 0:m.trim()),e=d.width/l.width;g=d.height/(l.height-o),S=t?"scale(".concat(e,", ").concat(g,")"):"scale(".concat(g,")")}const q=s.top+s.height/2,x=c.height*g/2,T="".concat(q-x,"px"),X=[{offset:0,opacity:0,transform:"translate3d(".concat(b,", ").concat(T,", 0) ").concat(S)},{offset:.1,opacity:0},{offset:1,opacity:1,transform:"translate3d(".concat("0px",", ").concat(u,", 0) ").concat(h)}],E=[{offset:0,opacity:.99,transform:"translate3d(".concat("0px",", ").concat(u,", 0) ").concat(h)},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d(".concat(b,", ").concat(T,", 0) ").concat(S)}],A=a?X:E,v=getClonedElement("ion-title"),C=t();v.innerText=r.innerText,v.size=r.size,v.color=r.color,C.addElement(v),C.beforeStyles({"transform-origin":"".concat(y," top"),height:"".concat(c.height,"px"),display:"",position:"relative",[y]:p}).beforeAddWrite(()=>{r.style.setProperty("opacity","0")}).afterAddWrite(()=>{r.style.setProperty("opacity",""),v.style.setProperty("display","none")}).keyframes(A),e.addAnimation(C)},iosTransitionAnimation=(o,n)=>{var a;try{const r="cubic-bezier(0.32,0.72,0,1)",c="opacity",l="transform",s="0%",i=.8,d="rtl"===o.ownerDocument.dir,f=d?"-99.5%":"99.5%",m=d?"33%":"-33%",y=n.enteringEl,p=n.leavingEl,u="back"===n.direction,b=y.querySelector(":scope > ion-content"),g=y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),h=y.querySelectorAll(":scope > ion-header > ion-toolbar"),S=t(),q=t();if(S.addElement(y).duration((null!==(a=n.duration)&&void 0!==a?a:0)||540).easing(n.easing||r).fill("both").beforeRemoveClass("ion-page-invisible"),p&&null!=o){const e=t();e.addElement(o),S.addAnimation(e)}if(b||0!==h.length||0!==g.length?(q.addElement(b),q.addElement(g)):q.addElement(y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),S.addAnimation(q),u?q.beforeClearStyles([c]).fromTo("transform","translateX(".concat(m,")"),"translateX(".concat(s,")")).fromTo(c,i,1):q.beforeClearStyles([c]).fromTo("transform","translateX(".concat(f,")"),"translateX(".concat(s,")")),b){const e=shadow(b).querySelector(".transition-effect");if(e){const o=e.querySelector(".transition-cover"),n=e.querySelector(".transition-shadow"),a=t(),r=t(),l=t();a.addElement(e).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),r.addElement(o).beforeClearStyles([c]).fromTo(c,0,.1),l.addElement(n).beforeClearStyles([c]).fromTo(c,.03,.7),a.addAnimation([r,l]),q.addAnimation([a])}}const x=y.querySelector("ion-header.header-collapse-condense"),{forward:T,backward:X}=((t,e,o,n,a)=>{const r=getBackButton(n,o),c=getLargeTitle(a),l=getLargeTitle(n),s=getBackButton(a,o),i=null!==r&&null!==c&&!o,d=null!==l&&null!==s&&o;if(i){const n=c.getBoundingClientRect(),a=r.getBoundingClientRect(),l=shadow(r).querySelector(".button-text"),s=null==l?void 0:l.getBoundingClientRect(),i=shadow(c).querySelector(".toolbar-title").getBoundingClientRect();animateLargeTitle(t,e,o,c,n,i,a,l,s),animateBackButton(t,e,o,r,a,l,s,c,i)}else if(d){const n=l.getBoundingClientRect(),a=s.getBoundingClientRect(),r=shadow(s).querySelector(".button-text"),c=null==r?void 0:r.getBoundingClientRect(),i=shadow(l).querySelector(".toolbar-title").getBoundingClientRect();animateLargeTitle(t,e,o,l,n,i,a,r,c),animateBackButton(t,e,o,s,a,r,c,l,i)}return{forward:i,backward:d}})(S,d,u,y,p);if(h.forEach(e=>{const o=t();o.addElement(e),S.addAnimation(o);const n=t();n.addElement(e.querySelector("ion-title"));const a=t(),r=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]")),l=e.closest("ion-header"),i=null==l?void 0:l.classList.contains("header-collapse-condense-inactive");let y;y=u?r.filter(t=>{const e=t.classList.contains("buttons-collapse");return e&&!i||!e}):r.filter(t=>!t.classList.contains("buttons-collapse")),a.addElement(y);const p=t();p.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const b=t();b.addElement(shadow(e).querySelector(".toolbar-background"));const g=t(),h=e.querySelector("ion-back-button");if(h&&g.addElement(h),o.addAnimation([n,a,p,b,g]),a.fromTo(c,.01,1),p.fromTo(c,.01,1),u)i||n.fromTo("transform","translateX(".concat(m,")"),"translateX(".concat(s,")")).fromTo(c,.01,1),p.fromTo("transform","translateX(".concat(m,")"),"translateX(".concat(s,")")),g.fromTo(c,.01,1);else{x||n.fromTo("transform","translateX(".concat(f,")"),"translateX(".concat(s,")")).fromTo(c,.01,1),p.fromTo("transform","translateX(".concat(f,")"),"translateX(".concat(s,")")),b.beforeClearStyles([c,"transform"]);if((null==l?void 0:l.translucent)?b.fromTo("transform",d?"translateX(-100%)":"translateX(100%)","translateX(0px)"):b.fromTo(c,.01,"var(--opacity)"),T||g.fromTo(c,.01,1),h&&!T){const e=t();e.addElement(shadow(h).querySelector(".button-text")).fromTo("transform",d?"translateX(-100px)":"translateX(100px)","translateX(0px)"),o.addAnimation(e)}}}),p){const o=t(),n=p.querySelector(":scope > ion-content"),a=p.querySelectorAll(":scope > ion-header > ion-toolbar"),r=p.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(n||0!==a.length||0!==r.length?(o.addElement(n),o.addElement(r)):o.addElement(p.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),S.addAnimation(o),u){o.beforeClearStyles([c]).fromTo("transform","translateX(".concat(s,")"),d?"translateX(-100%)":"translateX(100%)");const t=e(p);S.afterAddWrite(()=>{"normal"===S.getDirection()&&t.style.setProperty("display","none")})}else o.fromTo("transform","translateX(".concat(s,")"),"translateX(".concat(m,")")).fromTo(c,1,i);if(n){const e=shadow(n).querySelector(".transition-effect");if(e){const n=e.querySelector(".transition-cover"),a=e.querySelector(".transition-shadow"),r=t(),l=t(),s=t();r.addElement(e).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),l.addElement(n).beforeClearStyles([c]).fromTo(c,.1,0),s.addElement(a).beforeClearStyles([c]).fromTo(c,.7,.03),r.addAnimation([l,s]),o.addAnimation([r])}}a.forEach(e=>{const o=t();o.addElement(e);const n=t();n.addElement(e.querySelector("ion-title"));const a=t(),r=e.querySelectorAll("ion-buttons,[menuToggle]"),i=e.closest("ion-header"),f=null==i?void 0:i.classList.contains("header-collapse-condense-inactive"),y=Array.from(r).filter(t=>{const e=t.classList.contains("buttons-collapse");return e&&!f||!e});a.addElement(y);const p=t(),b=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");b.length>0&&p.addElement(b);const g=t();g.addElement(shadow(e).querySelector(".toolbar-background"));const h=t(),q=e.querySelector("ion-back-button");if(q&&h.addElement(q),o.addAnimation([n,a,p,h,g]),S.addAnimation(o),h.fromTo(c,.99,0),a.fromTo(c,.99,0),p.fromTo(c,.99,0),u){f||n.fromTo("transform","translateX(".concat(s,")"),d?"translateX(-100%)":"translateX(100%)").fromTo(c,.99,0),p.fromTo("transform","translateX(".concat(s,")"),d?"translateX(-100%)":"translateX(100%)"),g.beforeClearStyles([c,"transform"]);if((null==i?void 0:i.translucent)?g.fromTo("transform","translateX(0px)",d?"translateX(-100%)":"translateX(100%)"):g.fromTo(c,"var(--opacity)",0),q&&!X){const e=t();e.addElement(shadow(q).querySelector(".button-text")).fromTo("transform","translateX(".concat(s,")"),"translateX(".concat((d?-124:124)+"px",")")),o.addAnimation(e)}}else f||n.fromTo("transform","translateX(".concat(s,")"),"translateX(".concat(m,")")).fromTo(c,.99,0).afterClearStyles([l,c]),p.fromTo("transform","translateX(".concat(s,")"),"translateX(".concat(m,")")).afterClearStyles([l,c]),h.afterClearStyles([c]),n.afterClearStyles([c]),a.afterClearStyles([c])})}return S}catch(r){throw r}},o=10;export{iosTransitionAnimation,shadow};
