import{d as e,r as a,c as l,w as n,u as o,ct as s,aj as t,ao as u,F as r,by as d,P as i,Q as p,O as c,y as m,B as g,bG as f,b as v,e as _,p as b,i as I,aS as w,k as y,t as U,s as V}from"./index-D9IhqqAc.js";import"./html5-qrcode-D_4nuB1t.js";const h=e({components:{IonPage:m,IonHeader:c,IonTitle:p,IonToolbar:i,IonInput:d,IonButton:r,IonText:u,IonItem:t,IonInputPasswordToggle:s}}),x=e({...h,__name:"SignUpView",setup(e){const h=a(""),x=a(""),S=a(""),P=a(!1),T=g();async function signup(){P.value=!0,S.value="";try{const{error:e}=await V.auth.signUp({email:h.value,password:x.value});e?(S.value=e.message,console.error("Signup error:",e)):T.push("/login")}catch(e){S.value=e.message||"Unexpected error",console.error("Unexpected signup error:",e)}finally{P.value=!1}}return(e,a)=>{const g=f("ion-content");return v(),l(o(m),null,{default:n(()=>[_(o(c),null,{default:n(()=>[_(o(i),null,{default:n(()=>[_(o(p),null,{default:n(()=>a[2]||(a[2]=[b("Sign Up Now",-1)])),_:1,__:[2]})]),_:1})]),_:1}),_(g,{class:"ion-padding"},{default:n(()=>[I("form",{onSubmit:w(signup,["prevent"])},[_(o(t),null,{default:n(()=>[_(o(d),{label:"Email","label-placement":"floating",placeholder:"Enter email",type:"email",modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),required:""},null,8,["modelValue"])]),_:1}),_(o(t),null,{default:n(()=>[_(o(d),{label:"Password","label-placement":"floating",placeholder:"Enter password",type:"password",modelValue:x.value,"onUpdate:modelValue":a[1]||(a[1]=e=>x.value=e),required:""},{default:n(()=>[_(o(s),{slot:"end"})]),_:1},8,["modelValue"])]),_:1}),_(o(r),{type:"submit",expand:"block",disabled:P.value,class:"ion-margin-top"},{default:n(()=>[b(U(P.value?"Creating account...":"Sign Up"),1)]),_:1},8,["disabled"]),S.value?(v(),l(o(u),{key:0,color:"danger",class:"ion-padding"},{default:n(()=>[b(U(S.value),1)]),_:1})):y("",!0)],32)]),_:1})]),_:1})}}});export{x as default};
